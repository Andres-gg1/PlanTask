{"name": "Test if foreign keys in both DBs (PROD and TEST) match model definitions", "status": "passed", "description": "\nThis test checks if the foreign keys defined in the SQLAlchemy models match the foreign keys present in the actual database.\nIt compares the foreign keys defined in the SQLAlchemy models with the foreign keys present in the database.\nIf there are any discrepancies, it raises an assertion error.\n", "steps": [{"name": "Create SQLAlchemy engine for database URL: postgresql://postgres:DRbfLrlvWYCYCULVimbRZxufXbujGHaK@trolley.proxy.rlwy.net:35649/railway", "status": "passed", "start": 1745264332636, "stop": 1745264332636}, {"name": "Inspect database schema and retrieve foreign keys information", "status": "passed", "start": 1745264332636, "stop": 1745264335766}, {"name": "Compare foreign keys for table 'users'", "status": "passed", "start": 1745264336339, "stop": 1745264336339}, {"name": "Assert that foreign keys match for table 'users'", "status": "passed", "start": 1745264336339, "stop": 1745264336339}, {"name": "Compare foreign keys for table 'projects'", "status": "passed", "start": 1745264336808, "stop": 1745264336808}, {"name": "Assert that foreign keys match for table 'projects'", "status": "passed", "start": 1745264336808, "stop": 1745264336808}, {"name": "Compare foreign keys for table 'projects_users'", "status": "passed", "start": 1745264337282, "stop": 1745264337282}, {"name": "Assert that foreign keys match for table 'projects_users'", "status": "passed", "start": 1745264337282, "stop": 1745264337282}, {"name": "Compare foreign keys for table 'projects_users_microtasks'", "status": "passed", "start": 1745264337821, "stop": 1745264337821}, {"name": "Assert that foreign keys match for table 'projects_users_microtasks'", "status": "passed", "start": 1745264337821, "stop": 1745264337821}, {"name": "Compare foreign keys for table 'tasks'", "status": "passed", "start": 1745264338488, "stop": 1745264338488}, {"name": "Assert that foreign keys match for table 'tasks'", "status": "passed", "start": 1745264338488, "stop": 1745264338488}, {"name": "Compare foreign keys for table 'task_comments'", "status": "passed", "start": 1745264339099, "stop": 1745264339099}, {"name": "Assert that foreign keys match for table 'task_comments'", "status": "passed", "start": 1745264339099, "stop": 1745264339099}, {"name": "Compare foreign keys for table 'tasks_files'", "status": "passed", "start": 1745264339617, "stop": 1745264339617}, {"name": "Assert that foreign keys match for table 'tasks_files'", "status": "passed", "start": 1745264339617, "stop": 1745264339618}, {"name": "Compare foreign keys for table 'task_comments_files'", "status": "passed", "start": 1745264340089, "stop": 1745264340089}, {"name": "Assert that foreign keys match for table 'task_comments_files'", "status": "passed", "start": 1745264340089, "stop": 1745264340089}, {"name": "Compare foreign keys for table 'microtasks'", "status": "passed", "start": 1745264340637, "stop": 1745264340637}, {"name": "Assert that foreign keys match for table 'microtasks'", "status": "passed", "start": 1745264340637, "stop": 1745264340638}, {"name": "Compare foreign keys for table 'microtask_comments'", "status": "passed", "start": 1745264341278, "stop": 1745264341278}, {"name": "Assert that foreign keys match for table 'microtask_comments'", "status": "passed", "start": 1745264341279, "stop": 1745264341279}, {"name": "Compare foreign keys for table 'microtasks_files'", "status": "passed", "start": 1745264341932, "stop": 1745264341933}, {"name": "Assert that foreign keys match for table 'microtasks_files'", "status": "passed", "start": 1745264341933, "stop": 1745264341933}, {"name": "Compare foreign keys for table 'microtask_comments_files'", "status": "passed", "start": 1745264342476, "stop": 1745264342476}, {"name": "Assert that foreign keys match for table 'microtask_comments_files'", "status": "passed", "start": 1745264342476, "stop": 1745264342476}, {"name": "Compare foreign keys for table 'files'", "status": "passed", "start": 1745264342949, "stop": 1745264342949}, {"name": "Assert that foreign keys match for table 'files'", "status": "passed", "start": 1745264342949, "stop": 1745264342949}, {"name": "Compare foreign keys for table 'group_chats'", "status": "passed", "start": 1745264343453, "stop": 1745264343453}, {"name": "Assert that foreign keys match for table 'group_chats'", "status": "passed", "start": 1745264343453, "stop": 1745264343453}, {"name": "Compare foreign keys for table 'personal_chats'", "status": "passed", "start": 1745264343990, "stop": 1745264343990}, {"name": "Assert that foreign keys match for table 'personal_chats'", "status": "passed", "start": 1745264343990, "stop": 1745264343990}, {"name": "Compare foreign keys for table 'chat_logs'", "status": "passed", "start": 1745264344552, "stop": 1745264344552}, {"name": "Assert that foreign keys match for table 'chat_logs'", "status": "passed", "start": 1745264344553, "stop": 1745264344553}, {"name": "Compare foreign keys for table 'chat_logs_files'", "status": "passed", "start": 1745264345029, "stop": 1745264345029}, {"name": "Assert that foreign keys match for table 'chat_logs_files'", "status": "passed", "start": 1745264345029, "stop": 1745264345029}, {"name": "Compare foreign keys for table 'labels'", "status": "passed", "start": 1745264345541, "stop": 1745264345541}, {"name": "Assert that foreign keys match for table 'labels'", "status": "passed", "start": 1745264345542, "stop": 1745264345542}, {"name": "Compare foreign keys for table 'labels_tasks'", "status": "passed", "start": 1745264346139, "stop": 1745264346139}, {"name": "Assert that foreign keys match for table 'labels_tasks'", "status": "passed", "start": 1745264346139, "stop": 1745264346139}, {"name": "Compare foreign keys for table 'labels_templates'", "status": "passed", "start": 1745264346725, "stop": 1745264346725}, {"name": "Assert that foreign keys match for table 'labels_templates'", "status": "passed", "start": 1745264346725, "stop": 1745264346725}, {"name": "Compare foreign keys for table 'labels_projects_users'", "status": "passed", "start": 1745264347208, "stop": 1745264347208}, {"name": "Assert that foreign keys match for table 'labels_projects_users'", "status": "passed", "start": 1745264347208, "stop": 1745264347208}, {"name": "Compare foreign keys for table 'notifications'", "status": "passed", "start": 1745264347726, "stop": 1745264347726}, {"name": "Assert that foreign keys match for table 'notifications'", "status": "passed", "start": 1745264347726, "stop": 1745264347726}, {"name": "Compare foreign keys for table 'templates'", "status": "passed", "start": 1745264348240, "stop": 1745264348240}, {"name": "Assert that foreign keys match for table 'templates'", "status": "passed", "start": 1745264348240, "stop": 1745264348240}, {"name": "Compare foreign keys for table 'templates_files'", "status": "passed", "start": 1745264348798, "stop": 1745264348798}, {"name": "Assert that foreign keys match for table 'templates_files'", "status": "passed", "start": 1745264348798, "stop": 1745264348798}, {"name": "Compare foreign keys for table 'activity_log'", "status": "passed", "start": 1745264349304, "stop": 1745264349304}, {"name": "Assert that foreign keys match for table 'activity_log'", "status": "passed", "start": 1745264349304, "stop": 1745264349304}], "parameters": [{"name": "db_url", "value": "'postgresql://postgres:DRbfLrlvWYCYCULVimbRZxufXbujGHaK@trolley.proxy.rlwy.net:35649/railway'"}], "start": 1745264332635, "stop": 1745264349304, "uuid": "c1d11e8b-06d9-4f10-9c06-69c0163e8b0d", "historyId": "952c9a4b429763e7369c1059a3f688f1", "testCaseId": "a145857725c6e661d83e045ab3bc3bc8", "fullName": "tests.test_database_schema_validation#test_foreign_keys_match", "labels": [{"name": "severity", "value": "critical"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_database_schema_validation"}, {"name": "host", "value": "PC-5CG1400DWZ"}, {"name": "thread", "value": "22464-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_database_schema_validation"}]}